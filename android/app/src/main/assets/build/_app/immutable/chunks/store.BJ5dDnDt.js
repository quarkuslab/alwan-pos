import{C as y,D as I,H as L,F as O,G as p,I as _,J as N,K as H,B as c,L as V,M as x,N as C,O as M,P as Y,Q as k,R as P,x as $,p as j,A as m,e as q,q as B,g as F,y as w,h as G,S as J,T as K,k as Q,U}from"./runtime.Dng4GELL.js";import{a as W,r as A,h as b}from"./events.CsQOlZxU.js";import{b as z}from"./disclose-version.C0dyz9fO.js";const X=["touchstart","touchmove"];function Z(e){return X.includes(e)}function ae(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function ee(e,t){return S(e,t)}function ie(e,t){y(),t.intro=t.intro??!1;const r=t.target,s=m,u=c;try{for(var n=I(r);n&&(n.nodeType!==8||n.data!==L);)n=O(n);if(!n)throw p;_(!0),N(n),H();const f=S(e,{...t,anchor:n});if(c===null||c.nodeType!==8||c.data!==V)throw x(),p;return _(!1),f}catch(f){if(f===p)return t.recover===!1&&C(),y(),M(r),_(!1),ee(e,t);throw f}finally{_(s),N(u)}}const d=new Map;function S(e,{target:t,anchor:r,props:s={},events:u,context:n,intro:f=!0}){y();var v=new Set,g=o=>{for(var a=0;a<o.length;a++){var i=o[a];if(!v.has(i)){v.add(i);var T=Z(i);t.addEventListener(i,b,{passive:T});var R=d.get(i);R===void 0?(document.addEventListener(i,b,{passive:T}),d.set(i,1)):d.set(i,R+1)}}};g(Y(W)),A.add(g);var l=void 0,D=k(()=>{var o=r??t.appendChild(P());return $(()=>{if(n){j({});var a=F;a.c=n}u&&(s.$$events=u),m&&z(o,null),l=e(o,s)||{},m&&(q.nodes_end=c),n&&B()}),()=>{for(var a of v){t.removeEventListener(a,b);var i=d.get(a);--i===0?(document.removeEventListener(a,b),d.delete(a)):d.set(a,i)}A.delete(g),E.delete(l),o!==r&&o.parentNode?.removeChild(o)}});return E.set(l,D),l}let E=new WeakMap;function oe(e){const t=E.get(e);t&&t()}function te(e,t,r){if(e==null)return t(void 0),w;const s=G(()=>e.subscribe(t,r));return s.unsubscribe?()=>s.unsubscribe():s}let h=!1;function ue(e,t,r){const s=r[t]??={store:null,source:K(void 0),unsubscribe:w};if(s.store!==e)if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=w;else{var u=!0;s.unsubscribe=te(e,n=>{u?s.source.v=n:U(s.source,n)}),u=!1}return Q(s.source)}function de(){const e={};return J(()=>{for(var t in e)e[t].unsubscribe()}),e}function fe(e){var t=h;try{return h=!1,[e(),h]}finally{h=t}}export{ae as a,ue as b,fe as c,ie as h,ee as m,de as s,oe as u};
